{% extends 'admin/base_template.html' %}


{% block title %}
{% if title %}
{{title}}
{% else %}
Take Staff Attendance
{% endif %}
{% endblock title %}
  

{% block content %}

 <div class="content-wrapper">
    <div class="container-fluid">
        <!-- Content Header (Page header) -->
        <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Take Staff Attendance</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item"><a href="#">Take Staff Attendance</a></li>
                <li class="breadcrumb-item active">Taking</li>
                </ol>
            </div>
            </div>
        </div><!-- /.container-fluid -->
        </section>
        <!-- Main content -->
        <section class="content">
        <div class="container-fluid">
            <div class="row ">
        <div class="col-sm card">
        
            hhhh

        </div>

        <div class="col-sm-12" id="tableContent">
        <h5 class="text-center text-warning bg-dark p-3"> Today Attendance List</h5>
        <p class="text-center text-info bg-secondary p-2"> Check each box on the action row to mark student present</p>
            
        
        <div>
            <!-- {{attendance}} -->
            <div class="card-body">
            <div id="jsGrid1" class="jsgrid" style="position: relative; height: 100%; width: 100%;">
                <div id="message" ></div>
                <div class="jsgrid-grid-header jsgrid-header-scrollbar">
                    <table class="jsgrid-table">
                        <tr class="jsgrid-header-row">
                            <th class="jsgrid-header-cell jsgrid-header-sortable" style="width: 250px;">#ID</th>
                            <th class="jsgrid-header-cell jsgrid-align-right jsgrid-header-sortable" style="width: 250px;">Staff Name</th>
                            <th class="jsgrid-header-cell jsgrid-align-right jsgrid-header-sortable" style="width: 250px;"> Coming Action</th>
                            <th class="jsgrid-header-cell jsgrid-align-right jsgrid-header-sortable" style="width: 250px;">Going Action</th>
                            </tr>
                            {% for attendance in attendances %}
                            
                            <tr class="jsgrid-row">
                                <td class="jsgrid-cell" style="width: 150px;">{{attendance.staff_id.uid}}</td>
                                <td class="jsgrid-cell jsgrid-align-right" style="width: 50px;">{{attendance.staff_id.username}}</td>
                                
                                <td class="jsgrid-cell jsgrid-align-center" style="width: 100px;">
                                    {% if attendance.coming_status == 1 %}

                                    <input type="checkbox" name="status" checked='true' id="" hx-target="#message" hx-post="{% url 'teacher:attendance_status_update' 1 attendance.id  %}">

                                    {% else %}

                                    <input type="checkbox" name="status"  id="" hx-target="#message" hx-post="{% url 'teacher:attendance_status_update' 1 attendance.id%}">

                                    {% endif %}
                                </td>
                                
                                <td class="jsgrid-cell jsgrid-align-center" style="width: 100px;">
                                    {% if attendance.status == 1 %}

                                    <input type="checkbox" name="status" checked='true' id="" hx-target="#message" hx-post="{% url 'teacher:attendance_status_update' 2 attendance.id %}">

                                    {% else %}

                                    <input type="checkbox" name="status"  id="" hx-target="#message" hx-post="{% url 'teacher:attendance_status_update' 2 attendance.id %}">

                                    {% endif %}
                                </td>
                                
                            </tr>
                            {% endfor %}
                            </table>
                        </div>
                        <div class="jsgrid-load-panel" style="display: none; position: absolute; top: 50%; left: 50%; z-index: 1000;">Please, wait...</div>
                    </div>
            </div>
            
        


            
        </div>
    </div>
        </div>
        </section>
    </div>
  
</div>

{% endblock content %}
